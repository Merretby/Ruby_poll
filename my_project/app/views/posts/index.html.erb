<div class="space-y-6">
  <div class="flex justify-between items-center">
    <h1 class="text-3xl font-bold text-gray-900">Posts</h1>
    <%= link_to 'Create Post', new_post_path, data: { turbo_frame: "posts" }, class: 'bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium' %>
  </div>

  <div class="bg-white rounded-lg shadow p-4">
    <%= form_with url: posts_path, method: :get, data: { controller: "filter", turbo_frame: "posts-list" } do |f| %>
      <div class="flex gap-3">
        <%= f.select :status, 
            options_for_select([
              ['All Posts', ''],
              ['Published', 'published'],
              ['Drafts', 'drafts']
            ], params[:status]),
            {},
            { class: 'px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500',
              data: { action: "change->filter#submit" } } %>
        
        <%= f.text_field :q, 
            placeholder: 'Search posts...', 
            value: params[:q],
            class: 'flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500',
            data: { action: "input->filter#submit" } %>
        
        <%= link_to 'Clear', posts_path, class: 'px-6 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg' %>
      </div>
    <% end %>
  </div>

  <turbo-frame id="posts">
  </turbo-frame>

  <turbo-frame id="posts-list">
    <div id="posts-grid" class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
      <%= render @posts %>
    </div>
  </turbo-frame>
</div>